<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PP Sheet Price Quotation</title>

<style>
*{box-sizing:border-box;font-family:Arial,sans-serif}
body{background:#eef2f5;margin:0;padding:12px}
.container{max-width:420px;margin:auto;background:#fff;padding:16px;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,.08)}
h2{text-align:center;margin-bottom:16px}
.section{margin-bottom:14px}
.section-title{font-weight:bold;margin-bottom:6px}

.row{display:flex;gap:10px}
.row.two input{width:50%}
.row.three input{width:33.33%}

input{
  width:100%;
  padding:10px;
  border-radius:6px;
  border:1px solid #ccc;
  font-size:15px;
}

button{
  width:100%;
  padding:12px;
  background:linear-gradient(90deg,#27b6ff,#00d4ff);
  border:none;
  color:#fff;
  font-size:16px;
  border-radius:8px;
  cursor:pointer;
}

table{
  width:100%;
  border-collapse:collapse;
  margin-top:10px;
}

th,td{
  border:1px solid #000;
  padding:8px;
  text-align:center;
  font-size:15px;
}

.purchase{color:#d35400;font-weight:bold}
.sales{color:#1e8449;font-weight:bold}

.summary{
  display:flex;
  gap:10px;
  margin-top:12px;
}

.box{
  width:50%;
  background:#f2f7ff;
  padding:12px;
  text-align:center;
  border-radius:8px;
  font-weight:bold;
}

.box span{
  display:block;
  margin-top:6px;
  font-size:16px;
}

.profit{
  background:#eafaf1;
  color:#1e8449;
}

/* Active input highlight */
input:focus {
  border-color: #27b6ff;
  box-shadow: 0 0 6px rgba(39,182,255,0.6);
  outline: none;
}

</style>
</head>

<body>
<div class="container">

<h2>PP Sheet Price Quotation</h2>

<!-- CM -->
<div class="section">
  <div class="section-title">Centimeter (CM)</div>
  <div class="row two">
    <input id="lengthCm" placeholder="Length (CM)" oninput="cmToMeter()">
    <input id="widthCm" placeholder="Width (CM)" oninput="cmToMeter()">
  </div>
</div>

<!-- INCH -->
<div class="section">
  <div class="section-title">Inch</div>
  <div class="row two">
    <input id="lengthIn" placeholder="Length (Inch)" oninput="inchToMeter()">
    <input id="widthIn" placeholder="Width (Inch)" oninput="inchToMeter()">
  </div>
</div>

<!-- METER -->
<div class="section">
  <div class="section-title">Meter (Primary)</div>
  <div class="row two">
    <input id="lengthM" placeholder="Length (Meter)">
    <input id="widthM" placeholder="Width (Meter)">
  </div>
</div>

<!-- MATERIAL & PRICE -->
<div class="section">
  <div class="section-title">Material & Price</div>
  <div class="row three">
    <input id="gsm" placeholder="GSM">
    <input id="purchasePrice" placeholder="Purchase ₹ / KG">
    <input id="salesPrice" placeholder="Sales ₹ / KG">
  </div>
</div>

<button onclick="calculate()">Calculate</button>

<!-- RESULT TABLE -->
<table>
<tr>
  <th>Details</th>
  <th>Purchase</th>
  <th>Sales</th>
</tr>
<tr>
  <td>Taxable</td>
  <td id="pTax" class="purchase">0.000</td>
  <td id="sTax" class="sales">0.000</td>
</tr>
<tr>
  <td>GST (18%)</td>
  <td id="pGst" class="purchase">0.000</td>
  <td id="sGst" class="sales">0.000</td>
</tr>
<tr>
  <td>Final Amount</td>
  <td id="pFinal" class="purchase">0.000</td>
  <td id="sFinal" class="sales">0.000</td>
</tr>
</table>

<!-- WEIGHT & PROFIT -->
<div class="summary">
  <div class="box">
    Sheet Weight<br>
    <span id="weight">0.000</span>
  </div>
  <div class="box profit">
    Profit ₹<br>
    <span id="profit">0.000</span>
  </div>
</div>

</div>

<script>
function cmToMeter(){
  lengthM.value = (lengthCm.value / 100).toFixed(3)
  widthM.value  = (widthCm.value / 100).toFixed(3)
}

function inchToMeter(){
  lengthM.value = (lengthIn.value * 0.0254).toFixed(3)
  widthM.value  = (widthIn.value * 0.0254).toFixed(3)
}

function calculate(){
  let l = parseFloat(lengthM.value)||0
  let w = parseFloat(widthM.value)||0
  let gsmVal = parseFloat(gsm.value)||0
  let pKg = parseFloat(purchasePrice.value)||0
  let sKg = parseFloat(salesPrice.value)||0

  // ✔ CORRECT SHEET WEIGHT FORMULA
  let sheetWeight = l * w * gsmVal

  // ✔ CORRECT TAXABLE FORMULA
  let purchaseTax = l * w * gsmVal * pKg
  let salesTax = l * w * gsmVal * sKg

  let purchaseGst = purchaseTax * 0.18
  let salesGst = salesTax * 0.18

  document.getElementById("weight").innerText = sheetWeight.toFixed(3)

  document.getElementById("pTax").innerText = purchaseTax.toFixed(3)
  document.getElementById("pGst").innerText = purchaseGst.toFixed(3)
  document.getElementById("pFinal").innerText = (purchaseTax + purchaseGst).toFixed(3)

  document.getElementById("sTax").innerText = salesTax.toFixed(3)
  document.getElementById("sGst").innerText = salesGst.toFixed(3)
  document.getElementById("sFinal").innerText = (salesTax + salesGst).toFixed(3)

  document.getElementById("profit").innerText =
    (salesTax - purchaseTax).toFixed(3)
}

// ADVANCED KEYBOARD NAVIGATION
const inputs = Array.from(document.querySelectorAll("input"));

inputs.forEach((input, index) => {

  // Auto select text on focus
  input.addEventListener("focus", function () {
    setTimeout(() => this.select(), 10);
  });

  // Enter / Shift+Enter navigation
  input.addEventListener("keydown", function (e) {

    if (e.key === "Enter") {
      e.preventDefault();

      // SHIFT + ENTER → Previous
      if (e.shiftKey) {
        if (index > 0) {
          inputs[index - 1].focus();
        }
      } 
      // ENTER → Next OR Calculate
      else {
        if (index < inputs.length - 1) {
          inputs[index + 1].focus();
        } else {
          calculate(); // last input
        }
      }
    }
  });
});


</script>

</body>
</html>
